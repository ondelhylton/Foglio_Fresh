!function a(i,l,c){function u(t,e){if(!l[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=l[t]={exports:{}};i[t][0].call(r.exports,function(e){return u(i[t][1][e]||e)},r,r.exports,a,i,l,c)}return l[t].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=o(e("./ajax")),f=o(e("./../components/loading-spinner"));function o(e){return e&&e.__esModule?e:{default:e}}function v(n,o,r,a){return function(e){var t=!0;n&&(t=n(e)),n&&!1!==t||console.error("Error",o,e.status,e.responseText),r&&r(),a&&f.default.hide()}}var r={get:function(e){var t=e.url,n=e.sourceSelector,o=e.targetElement,r=e.elementPart,a=void 0===r?"innerHTML":r,i=e.callback,l=e.always,c=e.spinner,u=void 0!==c&&c,s=e.error;u&&f.default.show(),(0,d.default)({url:t},function(e){!function(e,t,n,o){var r=document.createElement("html");r.innerHTML=e.responseText,n.innerHTML=r.querySelector(t)[o]}(e,n,o,a),i&&i(),l&&l(),u&&f.default.hide()},v(s,t,l,u))},post:function(e){var t=e.url,n=e.data,o=e.callback,r=e.always,a=e.spinner,i=void 0!==a&&a,l=e.error;i&&f.default.show(),(0,d.default)({url:t,method:"POST",data:n},function(e){o&&o(e),r&&r(),i&&f.default.hide()},v(l,t,r,i))}};n.default=r},{"./../components/loading-spinner":5,"./ajax":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e,t,n){var o=e.method,r=void 0===o?"GET":o,a=e.url,i=e.data,l=e.ajaxHeader,c=void 0===l||l,u=new XMLHttpRequest;u.open(r,a),c&&u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.send(i||null),u.onreadystatechange=function(){t&&4===u.readyState&&(u.responseURL&&u.responseURL.endsWith("/login")?window.location=u.responseURL:(200===u.status?t(u):n&&n(u),window.sessionCountdown&&window.sessionCountdown.defer()))}}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./../ajax/ajax-handler")),o=r(e("./../components/overlay"));function r(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(){function a(e,t,n){var o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?u(e):t}(this,c(a).call(this,e))).responseSelector=n,i.default.get({url:t,targetElement:o.modalBody,sourceSelector:o.responseSelector,elementPart:"outerHTML",callback:(r=u(o),function(){return r.initContent.call(r)}),spinner:!0}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,o["default"]),a}();n.default=a},{"./../ajax/ajax-handler":1,"./../components/overlay":7}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=e("./ajax-overlay"))&&o.__esModule?o:{default:o};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function r(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=l(this,u(r).call(this,e,"/".concat(n,"/langprompt?otherLang=").concat(t),".lang-modal-content"))).currLang=t,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,a["default"]),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(r,[{key:"setupElements",value:function(){this.modalDialog=this.modal.querySelector(".modal-dialog"),this.modalDialog.setAttribute("id","lang-prompt-overlay"),this.continueBtn=this.modalBody.querySelector("button"),c(u(r.prototype),"setupElements",this).call(this)}},{key:"bind",value:function(){c(u(r.prototype),"bind",this).call(this),this.continueBtn.addEventListener("click",this.closeFn)}},{key:"unbind",value:function(){c(u(r.prototype),"unbind",this).call(this),this.continueBtn.removeEventListener("click",this.closeFn)}},{key:"close",value:function(){var n=this.modalBody.querySelector("input:checked").value;this.currLang===n?(window.setLanguage&&window.setLanguage(n),c(u(r.prototype),"close",this).call(this),this.modalDialog.removeAttribute("id")):window.location.href=window.location.pathname.replace(/^\/[a-z]{2}(\/.*|$)/,function(e,t){return"/".concat(n).concat(t).concat(window.location.search)})}}]),r}();n.default=d},{"./ajax-overlay":3}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function o(){r&&(clearTimeout(r),r=!1)}var r,a=document.querySelector("#loading-spinner"),i={show:function(){o(),r=setTimeout(function(){return a.classList.add("visible")},250)},hide:function(){o(),a.classList.remove("visible")}};n.default=i},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("../ajax/ajax")),a=r(e("../utils/local-storage"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function n(){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);this.nav=document.querySelector("nav"),this.menuOverlay=document.querySelector(".drop-down-overlay"),this.masqueradeBanner=this.nav.querySelector(".masquerading-notification");var e=window.authState;if(e)this.loadNav(e),a.default.setObject("legacyNavCache",e);else{var t=a.default.getObject("legacyNavCache");t&&5===t.v&&this.loadNav(t),(0,o.default)({url:"/api/auth/status"},function(e){var t=JSON.parse(e.responseText),n={v:5};n.signedIn=t.loggedIn;var o=t.legacyUser;o&&(n.retailerId=o.retailerId,n.designerId=o.designerId,n.rangingRoomEmpty=!o.hasCart,n.masquerading=o.masquerading,n.retailerName=o.retailerName,n.designerId?n.profileLink="/collection/designer/".concat(n.designerId):n.retailerId&&(n.profileLink="/retailer/details/".concat(n.retailerId))),r.loadNav(n),a.default.setObject("legacyNavCache",n)})}}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(n,[{key:"loadNav",value:function(e){if(this.nav&&this.menuOverlay)if([this.nav,this.menuOverlay].forEach(function(t){return t.getAttribute("class").split(" ").forEach(function(e){return e.startsWith("nav-")&&t.classList.remove(e)})}),e.retailerId||e.designerId?([this.nav,this.menuOverlay].forEach(function(e){return e.classList.add("nav-authed")}),e.retailerId?([this.nav,this.menuOverlay].forEach(function(e){return e.classList.add("nav-retailer")}),this.updateLinks(e,this.menuOverlay),this.updateLinks(e,this.nav)):e.designerId&&([this.nav,this.menuOverlay].forEach(function(e){return e.classList.add("nav-designer")}),this.updateLinks(e,this.menuOverlay),this.updateLinks(e,this.nav))):[this.nav,this.menuOverlay].forEach(function(e){return e.classList.add("nav-unauth")}),this.masqueradeBanner&&e.masquerading&&e.retailerName){var t=(new DOMParser).parseFromString(e.retailerName,"text/html").documentElement.textContent;this.masqueradeBanner.innerText="Ordering as a buyer for "+t,document.querySelector(".lang-not-translated")&&document.querySelector(".content-body").classList.add("masquerade-banner-visible"),this.masqueradeBanner.classList.add("visible"),document.body.classList.add("masquerading-as-buyer")}else{this.masqueradeBanner&&this.masqueradeBanner.classList.remove("visible"),document.body.classList.remove("masquerading-as-buyer"),document.querySelector(".content-body")&&document.querySelector(".content-body").classList.remove("masquerade-banner-visible")}}},{key:"updateLinks",value:function(t,e){var n=e.querySelectorAll(".nav-sign-out");n&&n.forEach(function(e){return e.innerText=t.masquerading?e.getAttribute("data-end-session-copy")||"End Session":e.getAttribute("data-sign-out-copy")||"Sign Out"});var o=e.querySelectorAll(".profile-item");o&&t.profileLink&&o.forEach(function(e){return e.setAttribute("href",t.profileLink)}),t.retailerId&&(t.rangingRoomEmpty?document.body.classList.remove("ranging-room-active"):document.body.classList.add("ranging-room-active"))}}]),n}();n.default=l},{"../ajax/ajax":2,"../utils/local-storage":10}],7:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function o(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.modal=e.querySelector("#modal-overlay"),this.modalBody=this.modal.querySelector(".modal-body"),this.modalTitle=this.modal.querySelector(".modal-header h3"),this.closeLink=this.modal.querySelector(".modal-overlay-close"),this.closeFn=function(){n.close()},this.closeListener=function(e){e&&e.target===n.modal&&n.close()},t&&this.initContent()}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"initContent",value:function(){this.setupElements(),this.modal.style.display="block",window.document.body.classList.add("noscroll")}},{key:"setupElements",value:function(){var e=this.modal.querySelector("[data-modal-title]");e&&(this.modalTitle.innerText=e.getAttribute("data-modal-title")),this.bind()}},{key:"unbind",value:function(){this.closeLink&&this.closeLink.removeEventListener("click",this.closeFn),window.removeEventListener("click",this.closeListener)}},{key:"bind",value:function(){this.unbind(),this.closeLink&&this.closeLink.addEventListener("click",this.closeFn),window.addEventListener("click",this.closeListener)}},{key:"close",value:function(){this.unbind(),this.modal.style.display="none",window.document.body.classList.remove("noscroll")}}]),o}();n.default=o},{}],8:[function(e,t,n){"use strict";var c=o(e("./components/navigation")),p=e("./utils/utilFunctions"),u=o(e("./utils/cookie")),s=o(e("./utils/local-storage")),d=o(e("./components/lang-switch-overlay"));function o(e){return e&&e.__esModule?e:{default:e}}!function(){new c.default;var y=document.querySelector("nav");if(y){var n=y.querySelector(".nav-items-desktop"),h=document.querySelector(".drop-down-overlay"),o=y.querySelector(".logo-white"),r=y.querySelector(".logo-black");y.querySelectorAll("img").forEach(function(e){return e.addEventListener("click",function(){document.location="/".concat(document.body.getAttribute("lang"))})});var t=document.querySelector(".top-section-dark"),a=function(e){var t="light"===e?"dark":"light";(0,p.toggleClasses)(y,["header-".concat(t)],["header-".concat(e)]),(0,p.toggleClasses)(n,["header-div-".concat(t)],["header-div-".concat(e)]),("light"===e?r:o).style.display="none",("light"===e?o:r).style.display="block"};t?document.addEventListener("scroll",function(){var e=t.offsetHeight-y.offsetHeight;window.pageYOffset<e?y.classList.contains("header-dark")&&a("light"):y.classList.contains("header-light")&&a("dark")}):a("dark");var m=function(e){u.default.setCookie("ljs-lang",e,!1,"/"),s.default.set("ljs-lang",e)};window.setLanguage=m;var e=function(){var e=s.default.get("ljs-lang");return!!e&&{lang:/([a-z]{2}).*/.exec(e)[1],longLang:e}};window.getLanguage=e;!function(){var e=document.querySelector(".nav-open-btn"),n=document.querySelector(".drop-down-overlay"),o=document.querySelector(".overlay-content-container"),t=document.querySelectorAll(".nav-close-btn"),r=document.body;e.addEventListener("click",function(e){e.preventDefault(),(0,p.toggleClasses)(n,["fade-out"],["fade-in"]),n.style.display="table-cell",(0,p.toggleClasses)(o,["fade-out"],["fade-in"]),o.style.display="grid",r.classList.add("no-scroll");function t(e){return e.preventDefault()}document.ontouchmove=t,n.ontouchmove=t}),t.forEach(function(e){e.addEventListener("click",function(){(0,p.toggleClasses)(o,["fade-out"],["fade-in"]),(0,p.toggleClasses)(n,["fade-in"],["fade-out"]),setTimeout(function(){o.style.display="none",n.style.display="none"},500),r.classList.remove("no-scroll"),document.ontouchmove=void 0,n.ontouchmove=void 0})});var a=y.querySelector(".lang-chooser>a"),i=y.querySelector(".lang-menu-desktop");if(i){var l=function(){i.classList.toggle("visible")};a&&a.addEventListener("click",l);var c=i.querySelector(".lang-modal");window.addEventListener("click",function(e){e&&e.target===c&&l()})}var u=h.querySelector(".lang-chooser>a"),s=h.querySelector(".lang-menu-mobile"),d=h.querySelector(".main-menu"),f=h.querySelector(".close-container .nav-close-btn"),v=h.querySelector(".close-container .nav-back-btn");[u,v].forEach(function(e){return e&&e.addEventListener("click",function(e){e.preventDefault(),[s,d,f,v].forEach(function(e){return e.classList.toggle("visible")})})}),document.querySelectorAll(".lang-menu-desktop li a, .lang-menu-mobile li a").forEach(function(r){return r.addEventListener("click",function(e){e.preventDefault();var t=r.getAttribute("data-lang"),n=t;"zh"===t&&(t="zh-Hans"),m(t);try{var o=window.changeLangCallback;o&&o({lang:n,longLang:t})}catch(e){console.error("Error calling change lang callback",e)}window.location=document.location.pathname.replace(/^\/[a-z]{2}(\/|$)/,"/".concat(n,"$1"))})})}();var i=e(),l=/^\/([a-z]{2})(\/|$).*/.exec(window.location.pathname);void 0===s.default.get("ljs-lang")&&m(l[1]),i&&l&&l[1]!==i.lang&&-1===window.location.pathname.indexOf("/admin/")&&new d.default(document,l[1],i.lang)}}()},{"./components/lang-switch-overlay":4,"./components/navigation":6,"./utils/cookie":9,"./utils/local-storage":10,"./utils/utilFunctions":11}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={getCookie:function(e){for(var t="".concat(e,"="),n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){var r=n[o].trim();if(0===r.indexOf(t))return r.substring(t.length,r.length)}return!1},setCookie:function(e,t,n,o){var r="".concat(e,"=").concat(t,";");n&&(r+=" expires=".concat(n.toUTCString(),";")),o&&(r+=" path=".concat(o)),document.cookie=r}};n.default=o},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function o(e,t){try{a&&(window.localStorage[e]=t)}catch(e){}}function r(e){if(a)return window.localStorage[e]}var a=(n.default=void 0)!==window.Storage&&void 0!==window.localStorage,i={set:o,get:r,setObject:function(e,t){try{o(e,JSON.stringify(t))}catch(e){}},getObject:function(e){var t=r(e);if(t)return JSON.parse(t)}};n.default=i},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleClasses=function(t,e,n){e.forEach(function(e){return t.classList.remove(e)}),n.forEach(function(e){return t.classList.add(e)})}},{}]},{},[8]);